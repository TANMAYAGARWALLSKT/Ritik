<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Floating Navbar</title>
    <link href="./output.css" rel="stylesheet" />
  </head>
  <body class="bg-zinc-950 relative">
    <!-- Logo and Name -->
    <div
      class="relative top-0 left-0 right-0 flex items-center justify-between p-4 shadow-md z-50 bg-slate-950"
    >
      <div class="flex items-center space-x-2">
        <img src="logo.png" alt="Logo" class="h-10" />
        <span class="text-xl font-bold text-white">Brahma</span>
      </div>
      <button id="sidebarToggle" class="p-2 text-white">Menu</button>
    </div>

    <!-- Hidden Sidebar -->
    <div
      id="sidebar"
      class="fixed top-16 rounded-t-md left-0 w-64 h-full bg-slate-950 z-50 shadow-md transform -translate-x-full transition-transform duration-300"
    >
      <div class="p-4 bg-slate-950">
        <ul class="mt-4 space-y-2">
          <li>
            <a
              href="./index.html"
              class="block p-2 text-white hover:bg-gray-700"
              >Home</a
            >
          </li>
          <li>
            <a
              href="./about-page/index.html"
              class="block p-2 text-white hover:bg-gray-700"
              >About</a
            >
          </li>
          <li>
            <a
              href="./service-page/index.html"
              class="block p-2 text-white hover:bg-gray-700"
              >Services</a
            >
          </li>
          <li>
            <a
              href="./contact-page/index.html"
              class="block p-2 text-white hover:bg-gray-700"
              >Contact</a
            >
          </li>
          <li>
            <a
              href="./donation2.html"
              class="block p-2 text-white hover:bg-gray-700"
              >Donation</a
            >
          </li>
          <li>
            <a
              href="./brahma_main/login.html"
              class="block p-2 text-white hover:bg-gray-700"
              >Login</a
            >
          </li>
        </ul>
      </div>
    </div>

    <!-- Main Content -->
    <div
      class="bg-zinc-950 flex justify-center mt-80 relative w-screen content-center"
    >
      <div class="flex justify-center flex-wrap gap-10">
        <div class="flex justify-center w-[80%] text-[3vw]">
          <h1 class="text-white">Do You Need Help?</h1>
        </div>
        <div
          class="flex bg-slate-50 justify-center gap-10 flex-nowrap content-center"
        >
          <span
            id="sosButton"
            class="w-[15vw] h-[15vw] rounded-full text-white flex justify-center items-center text-4xl font-bold shadow-2xl shadow-red-500/50 cursor-pointer"
            style="
              background: radial-gradient(
                circle,
                hsla(10, 74%, 63%, 1) 0%,
                hsla(0, 73%, 42%, 1) 100%
              );
            "
          >
            SOS
          </span>
          <span class="text-white text-xl font-medium italic">
            We're Here to Help! Click Above
          </span>
        </div>
      </div>
    </div>

    <div class="flex gap-10 flex-wrap">
      <button onclick="getLocation()" aria-label="Refresh Location">
        <img
          class="w-10 h-10"
          src="./refresh-svgrepo-com.svg"
          alt="Refresh Location"
        />
      </button>
      <iframe
        id="mapFrame"
        width="300"
        height="200"
        frameborder="0"
        scrolling="no"
        marginheight="0"
        marginwidth="0"
      ></iframe>
    </div>

    <script>
      const sidebar = document.getElementById("sidebar");
      const sidebarToggle = document.getElementById("sidebarToggle");
      const sosButton = document.getElementById("sosButton");

      sidebarToggle.addEventListener("click", () => {
        sidebar.classList.toggle("-translate-x-full");
      });

      sosButton.addEventListener("click", () => {
        window.location.href = "helpForm.html";
      });

      function updateMap(latitude, longitude) {
        let zoomlevel = 15;
        let link = `https://www.bing.com/maps/embed?h=300&w=400&cp=${latitude}~${longitude}&lvl=${zoomlevel}&typ=d&sty=r&src=SHELL&FORM=MBEDV8`;
        document.getElementById("mapFrame").src = link;
      }

      function getLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(
            function (position) {
              let latitude = position.coords.latitude;
              let longitude = position.coords.longitude;
              updateMap(latitude, longitude);
            },
            function (error) {
              alert("Geolocation is not supported by this browser.");
            }
          );
        } else {
          alert("Geolocation is not supported by this browser.");
        }
      }

      window.onload = getLocation;
    </script>
  </body>
</html>
